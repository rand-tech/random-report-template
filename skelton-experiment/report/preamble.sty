% -------- maths ---------
\usepackage{amsmath,amssymb} % AMS style
\usepackage{bm}              % bold vector
\usepackage{bbm}             % black board symbles
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{physics}
\usepackage[bbgreekl]{mathbbol}         % blackboard bold symbols for small chars
\DeclareSymbolFontAlphabet{\mathbbm}{bbold}
\DeclareSymbolFontAlphabet{\mathbb}{AMSb}%

% -------- images ---------
\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipsnames,dvipdfmx,table]{xcolor}
\usepackage{float}     % その場に表示(hereを含んでいる)
\usepackage{grffile}   % Extended file name support for graphics

% -------- columns ---------
\usepackage{ascmac}
\usepackage{multirow}
\usepackage{colortbl}  % 行ごと，列ごと，あるいは特定のセルに色を付けられる
\usepackage{array}     % 表の罫線を微妙に改善
\usepackage{tabularx}  % 幅固定の表
\usepackage{booktabs}  % 表組みに必要
\usepackage{longtable} % 表組みに必要(ページを跨ぐ表を作る)
\usepackage{tcolorbox} % わくわくする枠囲み
\tcbuselibrary{listings,breakable} % ページをまたぐtcolorboxを可能に
\usepackage{multicol}
% -------- lists ---------
\usepackage{enumitem}

% -------- style ---------
\usepackage[T1]{fontenc}
\usepackage{latexsym}
\usepackage[utf8]{inputenc}
\usepackage[uplatex]{otf}
\usepackage{ulem}      % 取り消し線
\usepackage{pdfpages}
\usepackage[toc,page]{appendix}
\usepackage{caption}
\usepackage[subrefformat=parens]{subcaption}
\captionsetup{compatibility=false}
\usepackage{lmodern}

% -------- ノンブル --------
% \usepackage{fancyhdr} %イケイケなノンブル
% \pagestyle{fancy}
% \fancyhead[LE,RO]{\leftmark}
% \fancyhead[LO,RE]{\rightmark}
% \fancyfoot[C]{\thepage}

% -------- misc ---------
\usepackage[version=3]{mhchem} % 分子式書くときに必要
\usepackage[separate-uncertainty=true]{siunitx} % SI unit
\sisetup{inter-unit-product=\ensuremath{{ \cdot{} }} } % \si{m.s}がいい感じになる（.が必要）

% -------- codes ---------
\usepackage{listings}
% \usepackage{jlisting} % 日本語のコメントアウトされた文字にもsyntax highlightingをenableさせたい場合に必要(GitHubを探せばある)
\usepackage{framed}

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color
  basicstyle=\linespread{0.8}\ttfamily\footnotesize,        % the size of the fonts that are used for the code
  showspaces=false,                % hide spaces
  showstringspaces=false,
  showtabs=True,                   % show tabs
  breaklines=true,                 % automatic line breaking only at whitespace
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  keywordstyle=\color{blue},       % keyword style
  stringstyle=\color{Red},         % string literal style
  % frame=single,                    % show frame
  frame={tb},
  caption=\lstname,
  % title=\lstname,                   % show the filename of files included with \lstinputlisting; also try caption instead of title
  columns=flexible,
  extendedchars=true
}

% -------- References ---------
% \usepackage[backend=biber]{biblatex}
\usepackage{url}
% hyperref causes many conflicts w other packages. See,
% http://www.macfreek.nl/memory/LaTeX_package_conflicts
\usepackage[dvipdfmx]{hyperref}
\usepackage{pxjahyper} % ハイパーリンクに日本語が含まれる場合に必要
\hypersetup{           % hyperrefのオプションリスト
    colorlinks=true,   % カラーリンクを使用
    linkcolor=black,   % 内部参照リンクの色
    citecolor=black,   % 文献参照リンクの色
    filecolor=black,   % ローカルファイル参照リンクの色
    urlcolor=black     % 外部参照URLの色
}
\usepackage{bookmark}

% -------- index --------
  \usepackage{xifthen} % provides \isempty test
  \usepackage{makeidx} % make index


  \newcommand{\highlight}[1]{{\color{Maroon}#1}}
  \newcommand{\term}[3][]{%
    {\sffamily{}{\bfseries{\highlight{#2}}}}%
    \ifthenelse{\isempty{#1}}%
    {}% if #1 is empty
    { {(\bfseries{#1}})}% else
    \index{#3@#2}%
  }

% -------- newcommands ---------
\let\refeq\relax
\newcommand{\refeq}[1]{式\eqref{#1}}
\newcommand{\refdef}[1]{定義\ref{#1}}
\newcommand{\reffig}[1]{図\ref{#1}}
\newcommand{\reftab}[1]{表\ref{#1}}
\newcommand{\refsec}[1]{章\ref{#1}}
